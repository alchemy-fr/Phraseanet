{% extends 'admin/task-manager/task-editor/task.html.twig' %}

{% block form %}
<div class="control-group">
    <label class="control-label">{{ 'task::ftp:proxy' | trans }}</label>
    <div class="controls">
        <input class="formElem" type="text" name="proxy" />
    </div>
</div>
<div class="control-group">
    <label class="control-label">{{ 'task::ftp:proxy port' | trans }}</label>
    <div class="controls">
        <input class="formElem" type="text" name="proxyport" />
    </div>
</div>
<div class="control-group">
    <label class="control-label">{{ 'task::ftp:host' | trans }}</label>
    <div class="controls">
        <input class="formElem" type="text" name="host" />
    </div>
</div>
<div class="control-group">
    <label class="control-label">{{ 'task::ftp:port' | trans }}</label>
    <div class="controls">
        <input class="formElem" type="text" name="port"  />
    </div>
</div>
<div class="control-group">
    <label class="control-label">{{ 'task::ftp:user' | trans }}</label>
    <div class="controls">
        <input class="formElem" type="text" name="user"  />
    </div>
</div>
<div class="control-group">
    <label class="control-label">{{ 'task::ftp:password' | trans }}</label>
    <div class="controls">
        <input class="formElem" type="password" name="password"  />
    </div>
</div>
<div class="control-group">
    <label class="control-label">{{ 'task::ftp:chemin distant' | trans }}</label>
    <div class="controls">
        <input class="formElem" type="text" name="ftppath"  />
    </div>
</div>
<div class="control-group">
    <label class="control-label">{{ 'task::ftp:localpath' | trans }}</label>
    <div class="controls">
        <input class="formElem" type="text" name="localpath"  />
    </div>
</div>
<div class="control-group">
    <label class="control-label">{{ 'task::ftp:mode passif' | trans }}</label>
    <div class="controls">
        <input class="formElem" type="checkbox" name="passive" />
    </div>
</div>
<div class="control-group">
    <div class="controls">
        <label class="checkbox">
            <input class="formElem" type="checkbox" name="ssl" />
            {{ 'task::ftp:utiliser SSL' | trans }}
        </label>
    </div>
</div>
{% endblock %}


{% block javascript %}
    function taskFillGraphic(xml)
    {
        if (xml) {
            xml = $.parseXML(xml);
            xml = $(xml);

            with(document.forms['graphicForm'])
            {
                proxy.value     = xml.find("proxy").text();
                proxyport.value = xml.find("proxyport").text();
                localpath.value = xml.find("localpath").text();
                ftppath.value   = xml.find("ftppath").text();
                host.value      = xml.find("host").text();
                port.value      = xml.find("port").text();
                user.value      = xml.find("user").text();
                password.value  = xml.find("password").text();
                ssl.checked     = Number(xml.find("ssl").text()) > 0;
                passive.checked = Number(xml.find("passive").text()) > 0;
            }
        }
    }
{% endblock %}
